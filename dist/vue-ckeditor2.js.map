{"version":3,"file":"vue-ckeditor2.js","sources":["../src/Ckeditor.vue?{\"type\":\"script\"}#.js"],"sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nlet inc = new Date().getTime()\n\nexport default {\n  name: 'vue-ckeditor',\n  props: {\n    name: {\n      type: String,\n      default: () => `editor-${++inc}`\n    },\n    value: {\n      type: String\n    },\n    id: {\n      type: String,\n      default: () => `editor-${inc}`\n    },\n    types: {\n      type: String,\n      default: () => `classic`\n    },\n    config: {\n      type: Object,\n      default: () => {}\n    }\n  },\n  data () {\n    return { destroyed: false }\n  },\n  computed: {\n    instance () {\n      return CKEDITOR.instances[this.id]\n    }\n  },\n  watch: {\n    value (val) {\n      try {\n        if (this.instance) {\n          this.update(val)\n        }\n      } catch (e) {}\n    }\n  },\n  mounted () {\n    this.create()\n  },\n  beforeDestroy () {\n    this.destroy()\n  },\n  methods: {\n    create () {\n      if (typeof CKEDITOR === 'undefined') {\n        console.log('CKEDITOR is missing (http://ckeditor.com/)')\n      } else {\n        if (this.types === 'inline') {\n            CKEDITOR.inline(this.id, this.config)\n        } else {\n            CKEDITOR.replace(this.id, this.config)\n        }\n\n        this.instance.setData(this.value)\n        this.instance.on('instanceReady', () => {\n          this.instance.setData(this.value)\n        })\n        this.instance.on('change', this.onChange)\n        this.instance.on('blur', this.onBlur)\n        this.instance.on('focus', this.onFocus)\n      }\n    },\n    update (val) {\n      let html = this.instance.getData()\n      if (html !== val) {\n        this.instance.setData(val, { internal: false })\n      }\n    },\n    destroy () {\n      try {\n        if (!this.destroyed) {\n          this.instance.focusManager.blur(true)\n          this.instance.removeAllListeners()\n          this.instance.destroy()\n          this.destroyed = true\n        }\n      } catch (e) {}\n    },\n    onChange () {\n      let html = this.instance.getData()\n      if (html !== this.value) {\n        this.$emit('input', html)\n      }\n    },\n    onBlur () {\n      this.$emit('blur', this.instance)\n    },\n    onFocus () {\n      this.$emit('focus', this.instance)\n    }\n  }\n}\n"],"names":["let","this"],"mappings":"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"}